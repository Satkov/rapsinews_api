# Rapsinews¬†API

REST‚Äë—Å–µ—Ä–≤–∏—Å –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è **RAPSI** (–†–æ—Å—Å–∏–π—Å–∫–æ–µ –∞–≥–µ–Ω—Ç—Å—Ç–≤–æ –ø—Ä–∞–≤–æ–≤–æ–π –∏ —Å—É–¥–µ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏). –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∞—Ç—å, –∏—Å–∫–∞—Ç—å –∏ "–∑–∞–∫—Ä–µ–ø–ª—è—Ç—å" (bookmark) –Ω–æ–≤–æ—Å—Ç–∏.

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫](#-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π-—Å—Ç–µ–∫)
2. [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
3. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#-—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
4. [–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#-–∑–∞–ø—É—Å–∫-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
5. [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è¬†API](#-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è-api)
6. [–ú–æ–¥–µ–ª—å¬†–¥–∞–Ω–Ω—ã—Ö](#-–º–æ–¥–µ–ª—å-–¥–∞–Ω–Ω—ã—Ö)
7. [–ü–∞–≥–∏–Ω–∞—Ü–∏—è](#-–ø–∞–≥–∏–Ω–∞—Ü–∏—è)
8. [–õ–∏—Ü–µ–Ω–∑–∏—è](#-–ª–∏—Ü–µ–Ω–∑–∏—è)

---

## üíª –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

* **Python¬†‚â•‚ÄØ3.12**
* **Django¬†5.1**
* **Django REST Framework¬†3.15**
* **SQLite** (–ø–æ‚Äë—É–º–æ–ª—á–∞–Ω–∏—é) / –ª—é–±–∞—è –°–£–ë–î, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–∞—è¬†Django
* **Poetry** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
* **APScheduler** –¥–ª—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞–Ω–∏–π (–ø–∞—Ä—Å–µ—Ä RSS‚Äë–ª–µ–Ω—Ç)

## üì¶ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

```toml
[tool.poetry.dependencies]
python = ">=3.12"
django = "==5.1"
djangorestframework = ">=3.15,<4.0"
feedparser = ">=6.0.11,<7.0.0"
python-dateutil = ">=2.9.0.post0,<3.0.0"
beautifulsoup4 = ">=4.13.4,<5.0.0"
django-apscheduler = ">=0.7.0,<0.8.0"
requests = ">=2.32.3,<3.0.0"
```

–î—Ä—É–≥–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ `poetry.lock`.

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
$ git clone https://github.com/your‚Äëorg/rapwinews-api.git
$ cd rapwinews-api

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Poetry, –µ—Å–ª–∏ –µ—â—ë –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
$ curl -sSL https://install.python-poetry.org | python3 -

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
$ poetry install

# –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
$ poetry shell

# –ü—Ä–∏–º–µ–Ω—è–µ–º –º–∏–≥—Ä–∞—Ü–∏–∏
$ python manage.py migrate

# (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) —Å–æ–∑–¥–∞—ë–º —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
$ python manage.py createsuperuser
```

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –†–∞–∑—Ä–∞–±–æ—Ç—á–µ—Å–∫–∏–π —Å–µ—Ä–≤–µ—Ä
$ python manage.py runserver 8000
# ‚ûú API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ http://localhost:8000/api/v1/
```

## üìë –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è¬†API

–ë–∞–∑–æ–≤—ã–π –ø—Ä–µ—Ñ–∏–∫—Å: `http://<host>/api/v1/`

| –ú–µ—Ç–æ–¥    | URL                       | –û–ø–∏—Å–∞–Ω–∏–µ                                          | –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞              | –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞                                                       |
| -------- | ------------------------- | ------------------------------------------------- | ------------------------- | ------------------------------------------------------------------- |
| **GET**  | `/posts/`                 | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ—Å—Ç–æ–≤ (–Ω–æ–≤—ã–µ¬†‚Äî –ø–µ—Ä–≤—ã–µ).              | ‚Äî                         | `{ "count": 123, "next": "?offset=10&limit=10", "results": [...] }` |
| **POST** | `/bookmarks/`             | –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –ø–æ—Å—Ç–æ–≤ –ø–æ –∏—Ö ID.      | `{ "ids": [1, 42, 256] }` | –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ `/posts/`                                                |
| **GET**  | `/search/?query=<—Å—Ç—Ä–æ–∫–∞>` | –ü–æ–∏—Å–∫ –ø–æ—Å—Ç–æ–≤ –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫—É (—Ä–µ–≥–∏—Å—Ç—Ä–æ-–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π). | ‚Äî                         | –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ `/posts/`                                                |

### –ü—Ä–∏–º–µ—Ä—ã

```bash
# –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–≤—ã–µ 5 –ø–æ—Å—Ç–æ–≤
curl "http://localhost:8000/api/v1/posts/?limit=5"

# –ü–æ–∏—Å–∫ –ø–æ —Å–ª–æ–≤—É "–∫–æ—Ä—Ä—É–ø—Ü–∏—è"
curl "http://localhost:8000/api/v1/search/?query=–∫–æ—Ä—Ä—É–ø—Ü–∏—è"

# –ó–∞–∫–ª–∞–¥–∫–∞ –¥–≤—É—Ö –ø–æ—Å—Ç–æ–≤
curl -X POST -H "Content-Type: application/json" \
     -d '{"ids": [3, 7]}' \
     http://localhost:8000/api/v1/bookmarks/
```

## üóÑÔ∏è –ú–æ–¥–µ–ª—å¬†–¥–∞–Ω–Ω—ã—Ö

`Post` (app `api.models`):

| –ü–æ–ª–µ        | –¢–∏–ø                               | –û–ø–∏—Å–∞–Ω–∏–µ              |
| ----------- | --------------------------------- | --------------------- |
| `id`        | `AutoField`                       | PK                    |
| `title`     | `CharField(255)`                  | –ó–∞–≥–æ–ª–æ–≤–æ–∫             |
| `link`      | `URLField(unique)`                | –°—Å—ã–ª–∫–∞ –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª    |
| `image`     | `URLField(blank=True, null=True)` | URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è       |
| `category`  | `CharField(255)`                  | –ö–∞—Ç–µ–≥–æ—Ä–∏—è/—Ä—É–±—Ä–∏–∫–∞     |
| `published` | `DateTimeField`                   | –î–∞—Ç–∞/–≤—Ä–µ–º—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ |
| `full_text` | `TextField`                       | –ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç —Å—Ç–∞—Ç—å–∏   |

## üîÑ –ü–∞–≥–∏–Ω–∞—Ü–∏—è

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `LimitOffsetPagination` —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:

* `limit` (–ø–æ‚Äë—É–º–æ–ª—á–∞–Ω–∏—é¬†‚Äî **10**, –º–∞–∫—Å–∏–º—É–º¬†‚Äî **50**)
* `offset` (–ø–æ‚Äë—É–º–æ–ª—á–∞–Ω–∏—é¬†‚Äî **0**)

–í –æ—Ç–≤–µ—Ç–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–ª—é—á–∏ `count`, `next`, `previous`, `results`.

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–ö–æ–¥ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π **Apache¬†License¬†2.0**. –ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ —Ñ–∞–π–ª–µ [`LICENSE`](LICENSE).

---

> ¬©¬†2025¬†Satkov [g.satkov@mail.ru](mailto:g.satkov@mail.ru)
